<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="java," />










<meta name="description" content="设计模式基础 关键 重要 备用在讲设计原则之前，我先强制灌输大家一波鸡汤，提倡 面向接口编程，代码的设计更重要的是考虑以后的扩展和可维护性大家带着这样的思维来学习设计模式以及设计原则，慢慢就意会这波毒鸡汤了。先声明一点就是老衲的blog，也是边学习，边记录，而后以讨论交流的方式叙述，有什么不对的地方大家多多担待。如果您对Android开发感兴趣，或者也是正在学习的路人，可以加群一起交流~ 群号：9">
<meta name="keywords" content="java">
<meta property="og:type" content="article">
<meta property="og:title" content="设计模式基础">
<meta property="og:url" content="http://yoursite.com/2018/10/09/Basic-Pattern/index.html">
<meta property="og:site_name" content="Done blog">
<meta property="og:description" content="设计模式基础 关键 重要 备用在讲设计原则之前，我先强制灌输大家一波鸡汤，提倡 面向接口编程，代码的设计更重要的是考虑以后的扩展和可维护性大家带着这样的思维来学习设计模式以及设计原则，慢慢就意会这波毒鸡汤了。先声明一点就是老衲的blog，也是边学习，边记录，而后以讨论交流的方式叙述，有什么不对的地方大家多多担待。如果您对Android开发感兴趣，或者也是正在学习的路人，可以加群一起交流~ 群号：9">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://note.youdao.com/yws/public/resource/c71037a83aa2a16f1752f9f6db8d74aa/xmlnote/E82BBC5C9DAC468D98850E35CD3265EE/2889">
<meta property="og:image" content="https://note.youdao.com/yws/public/resource/c71037a83aa2a16f1752f9f6db8d74aa/xmlnote/B169FFCD93CE446696461D6B19EF1871/2894">
<meta property="og:image" content="https://note.youdao.com/yws/public/resource/c71037a83aa2a16f1752f9f6db8d74aa/xmlnote/F204B8D8422A4D0F9F2420182FEDF781/2899">
<meta property="og:image" content="https://note.youdao.com/yws/public/resource/c71037a83aa2a16f1752f9f6db8d74aa/xmlnote/336418FEFC104C34BB8DF79BE0BCF918/2903">
<meta property="og:image" content="https://note.youdao.com/yws/public/resource/c71037a83aa2a16f1752f9f6db8d74aa/xmlnote/DDBEDDC6C228411C9D13900B7878C9B0/2910">
<meta property="og:image" content="https://note.youdao.com/yws/public/resource/c71037a83aa2a16f1752f9f6db8d74aa/xmlnote/D010D0C832E14373A0CFF7C2110E9C59/3105">
<meta property="og:image" content="https://note.youdao.com/yws/public/resource/c71037a83aa2a16f1752f9f6db8d74aa/xmlnote/452900A0801442F18E05E2A410696BA7/3128">
<meta property="og:updated_time" content="2018-10-09T11:34:29.571Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="设计模式基础">
<meta name="twitter:description" content="设计模式基础 关键 重要 备用在讲设计原则之前，我先强制灌输大家一波鸡汤，提倡 面向接口编程，代码的设计更重要的是考虑以后的扩展和可维护性大家带着这样的思维来学习设计模式以及设计原则，慢慢就意会这波毒鸡汤了。先声明一点就是老衲的blog，也是边学习，边记录，而后以讨论交流的方式叙述，有什么不对的地方大家多多担待。如果您对Android开发感兴趣，或者也是正在学习的路人，可以加群一起交流~ 群号：9">
<meta name="twitter:image" content="https://note.youdao.com/yws/public/resource/c71037a83aa2a16f1752f9f6db8d74aa/xmlnote/E82BBC5C9DAC468D98850E35CD3265EE/2889">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/10/09/Basic-Pattern/"/>





  <title>设计模式基础 | Done blog</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Done blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/10/09/Basic-Pattern/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Done">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/timg_2.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Done blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">设计模式基础</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-09T17:03:54+08:00">
                2018-10-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="设计模式基础-关键-重要-备用"><a href="#设计模式基础-关键-重要-备用" class="headerlink" title="设计模式基础 关键 重要 备用"></a>设计模式基础 关键 重要 备用</h2><p>在讲设计原则之前，我先强制灌输大家一波鸡汤，提倡</p>
<font color="#FF0000"><br>面向接口编程，代码的设计更重要的是考虑以后的扩展和可维护性<br></font><br>大家带着这样的思维来学习设计模式以及设计原则，慢慢就意会这波毒鸡汤了。<br>先声明一点就是老衲的blog，也是边学习，边记录，而后以讨论交流的方式叙述，有什么不对的地方大家多多担待。<br><br><font color="#FF0000"><br>如果您对Android开发感兴趣，或者也是正在学习的路人，可以加群一起交流~ 群号：929891705<br></font>  


<div align="center"><br><img src="https://note.youdao.com/yws/public/resource/c71037a83aa2a16f1752f9f6db8d74aa/xmlnote/E82BBC5C9DAC468D98850E35CD3265EE/2889" width="200" height="200" alt="沉迷代码"><br></div>

<h2 id="设计原则"><a href="#设计原则" class="headerlink" title="设计原则"></a>设计原则</h2><h3 id="单一职责原则（Single-Responsibility-Principle，-简称是SRP）"><a href="#单一职责原则（Single-Responsibility-Principle，-简称是SRP）" class="headerlink" title="单一职责原则（Single Responsibility Principle， 简称是SRP）"></a>单一职责原则（Single Responsibility Principle， 简称是SRP）</h3><p>老衲是一位粗鄙之人，所以描述也是尽可能的白话哈~  </p>
<h4 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h4><p>白话单一职责：首先，顾名思义，什么是单一职责？就是某玩意，专门负责某个东西，就譬如说，你的手机屏幕，他就只负责显示，不管显示app还是视频还是小黄书，只要是显示的活，他就干，而且他就只干显示的活，这就是单一职责，那么放到术语里面就是咱们设计的接口或者类，尽量遵循此原则，有什么好处赖？  </p>
<ul>
<li>类的复杂性降低， 实现什么职责都有清晰明确的定义</li>
<li>可读性提高， 复杂性降低， 那当然可读性提高了</li>
<li>可维护性提高， 可读性提高， 那当然更容易维护了</li>
<li>变更引起的风险降低， 变更是必不可少的， 如果接口的单一职责做得好， 一个接口修<br>改只对相应的实现类有影响， 对其他的接口无影响， 这对系统的扩展性、 维护性都有非常大<br>的帮助  </li>
</ul>
<p>这一波好处摘自设计模式之禅，总结下来就是，看见这个接口所声明的方法，你就知道功能都有什么，初学者或者初接手的人都可以很快融入到代码中进行迭代和维护了。  </p>
<p>然而道理是这个道理，但是具体在设计代码的时候，还是要考虑到具体的应用下。用书中的话描述就是</p>
<font color="#FF0000"><br>单一职责原则提出了一个编写程序的标准， 用“职责”或“变化原因”来衡量接口或<br>类设计得是否优良， 但是“职责”和“变化原因”都是不可度量的， 因项目而异， 因环境而异<br></font>  

<h4 id="code"><a href="#code" class="headerlink" title="code"></a>code</h4><p>OK，结合上面说的小Demo，接下来来一杯Java解解渴<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">IScreenDisplay</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * display image on screen</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> image</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">displayImage</span><span class="params">(String image)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * display a text on screen</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> text</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">displayText</span><span class="params">(String text)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * display a video on screen</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> video</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">displayVideo</span><span class="params">(String video)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>上来就是我们的小接口，屏幕显示，干什么玩意呢？自行翻译不谢~  </p>
<div align="center"><br><img src="https://note.youdao.com/yws/public/resource/c71037a83aa2a16f1752f9f6db8d74aa/xmlnote/B169FFCD93CE446696461D6B19EF1871/2894" width="200" height="200" alt="沉迷代码"><br></div>

<p>然后是我们的实现类<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Phone</span> <span class="keyword">implements</span> <span class="title">IScreenDisplay</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">displayImage</span><span class="params">(String image)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"displayImage:"</span> + image);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">displayText</span><span class="params">(String text)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"displayText:"</span> + text);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">displayVideo</span><span class="params">(String video)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"displayVideo:"</span> + video);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>实现类就是干具体的活了，国际惯例sout输出~<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    IScreenDisplay phone = <span class="keyword">new</span> Phone();</span><br><span class="line">    phone.displayImage(<span class="string">"ic_launcher.png"</span>);</span><br><span class="line">    phone.displayText(<span class="string">"Hello Done!"</span>);</span><br><span class="line">    phone.displayVideo(<span class="string">"xiao huang pian.avi"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这一套降龙十八掌走下来结果:<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">displayImage:ic_launcher.png</span><br><span class="line">displayText:Hello Done!</span><br><span class="line">displayVideo:xiao huang pian.avi</span><br></pre></td></tr></table></figure></p>
<p>多嚣张？多简单？当后期review一看，咱们的接口告诉你只负责显示，可以显示文字，图片和视频，至于什么时候显示，显示什么内容，那我不管，我就显示，唯一让我引起变化的是什么？当然是内容咯~  </p>
<p>总结一番便是</p>
<font color="#FF0000"><br>接口一定要做到单一职责， 类的设计尽量做到只有一个<br>原因引起变化<br></font>  

<h3 id="里氏替换原则（LiskovSubstitution-Principle，-LSP）"><a href="#里氏替换原则（LiskovSubstitution-Principle，-LSP）" class="headerlink" title="里氏替换原则（LiskovSubstitution Principle， LSP）"></a>里氏替换原则（LiskovSubstitution Principle， LSP）</h3><p>此原则相较于上面的单一职责，要复杂一些，这里引用书中的原话（一定要认真阅读），后面会通过白话做出相关解释哈~  </p>
<p>首先要理解的是继承的特点  </p>
<ul>
<li>代码共享， 减少创建类的工作量， 每个子类都拥有父类的方法和属性</li>
<li>提高代码的重用性</li>
<li>子类可以形似父类，但又异于父类， “龙生龙， 凤生凤，老鼠生来会打洞”是说子拥有父的“种”，“世界上没有两片完全相同的叶子”是指明子与父的不同  </li>
<li>提高代码的可扩展性，实现父类的方法就可以“为所欲为”了，君不见很多开源框架的扩展接口都是通过继承父类来完成的</li>
<li>提高产品或项目的开放性  </li>
</ul>
<p><strong>上面是优点，下面是缺点</strong>  </p>
<ul>
<li>继承是侵入性的。 只要继承， 就必须拥有父类的所有属性和方法</li>
<li>降低代码的灵活性。子类必须拥有父类的属性和方法，让子类自由的世界中多了些约束</li>
<li>增强了耦合性。当父类的常量、变量和方法被修改时，需要考虑子类的修改，而且在缺乏规范的环境下，这种修改可能带来非常糟糕的结果——大段的代码需要重构</li>
</ul>
<h4 id="定义-1"><a href="#定义-1" class="headerlink" title="定义"></a>定义</h4><ul>
<li>看不懂，绕口定义：    <blockquote>
<p>If for each object o1 of type S there is an object o2 oftype T such that for all programs P defined in terms of T,the behavior of P is unchanged when o1 issubstituted for o2 then S is a subtype of T.（如果对每一个类型为S的对象o1， 都有类型为T的对象o2， 使得以T定义的所有程序P在所有的对象o1都代换成o2时， 程序P的行为没有发生变<br>化， 那么类型S是类型T的子类型。 ）  </p>
</blockquote>
</li>
<li>通俗易懂，亲民定义：    <blockquote>
<p>Functions that use pointers or references to base classes must be able to useobjects of derived classes without knowing it.（所有引用基类的地方必须能透明地使用其子类的对象。 ）  </p>
</blockquote>
</li>
</ul>
<p>只要父类能出现的地方子类就可以出现， 而且<br>替换为子类也不会产生任何错误或异常， 使用者可能根本就不需要知道是父类还是子类。 但<br>是， 反过来就不行了， 有子类出现的地方， 父类未必就能适应。  </p>
<font color="#FF0000"><br>里氏替换原则为良好的继承定义了一个规范，一句简单的定义包含了4层含义<br></font>

<ul>
<li><p>子类必须完全实现父类的方法  </p>
<blockquote>
<p>如果子类不能完整地实现父类的方法，或者父类的某些方法在子类中已经发生“畸变”，则建议断开父子继承关系， 采用依赖、聚集、 组合等关系代替继承。</p>
</blockquote>
</li>
<li><p>子类可以有自己的个性  </p>
<blockquote>
<p>向下转型（downcast）是不安全的， 从里氏替换原则来看，就是有子类出现的地方父类未必就可以出现</p>
</blockquote>
</li>
<li><p>覆盖或实现父类的方法时输入参数可以被放大  </p>
<blockquote>
<p>里氏替换原则也要求制定一个契约， 就是父类或接口，这种设计方法也叫做Design by Contract（契约设计） ，与里氏替换原则有着异曲同工之妙。 契约制定了， 也就同时制定了前置条件和后置条件， 前置条件就是你要让我执行，就必须满足我的条件； 后置条件就是我执行完了需要反馈， 标准是什么。</p>
</blockquote>
</li>
<li><p>覆写或实现父类的方法时输出结果可以被缩小</p>
<blockquote>
<p>采用里氏替换原则的目的就是增强程序的健壮性，版本升级时也可以保持非常好的兼容性。即使增加子类，原有的子类还可以继续运行,每个子类对应不同的业务含义，使用父类作为参数，传递不同的子类完成不同的业务逻辑</p>
</blockquote>
</li>
</ul>
<p>白话方式总结一下上面的内容:<br>里氏替换原则更像是一种java继承的规范用法，”extends”嘛，大家都用过的东西，可以这么用那么用随便用，想用就用，但是写完以后发现没有卵用，用是用了，但是有什么奥妙还是不太清楚，为什么要用它？<br>咱们经常谈到的一个词：<strong>抽取</strong>，譬如说activity，这个活动要setContentView，那个活动也要setContentView，这个活动要上下文，那个活动也要上下文，诶~这时候我们就开始搞一个BaseActivity的东西，然后让所有子类去重写获取布局ID，同时父类直接拿到自己的上下文对象，子类直接使用即可。  </p>
<p>那么是不是我们的活动程序代码逻辑无论ams(自行百度)怎么使，你创建的这个活动都好使，符合咱们android体系的健壮性，另外你想实现的黑科技是不是都可以在自己的活动里面去实现，当然这里的设计并不是完全符合里氏替换原则，姑且断章取义，您就这么断章取义的理解即可，另外如果老衲说的有什么不对的地方，欢迎大家指正批评~  </p>
<div align="center"><br><img src="https://note.youdao.com/yws/public/resource/c71037a83aa2a16f1752f9f6db8d74aa/xmlnote/F204B8D8422A4D0F9F2420182FEDF781/2899" width="200" height="200" alt="沉迷代码"><br></div>

<p>还记得上面提到过的Java中继承带来的优缺点吗？咱们的里氏替换原则就是一个“扬长避短”的做法，具体怎么搞？code一下见分晓</p>
<h4 id="code-1"><a href="#code-1" class="headerlink" title="code"></a>code</h4><p>还是手机的例子，这次咱们不说屏幕，说品牌，先来个抽象手机<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AbsPhone</span> </span>&#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 使用</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">use</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>卧槽，就那么简单，抽象一个使用的方法~<br>OK，接下来是子类们<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 诺基亚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NokiaPhone</span> <span class="keyword">extends</span> <span class="title">AbsPhone</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">use</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"砸核桃 实用户"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 锤子</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TPhone</span> <span class="keyword">extends</span> <span class="title">AbsPhone</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">use</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"锤子 情怀户"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 苹果</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ApplePhone</span> <span class="keyword">extends</span> <span class="title">AbsPhone</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ringing</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"先让苹果特有铃声响一阵...呜呜呜"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">use</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        ringing();</span><br><span class="line">        System.out.println(<span class="string">"苹果 zhuang bi 专业户"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>很简单，就是诺基亚，锤子和苹果三个街机，这里并没有任何对这些品牌的观点，这是假借名义，传输知识用<br>再然后必须有一个使用者嘛<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    AbsPhone phone;</span><br><span class="line">    String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPhone</span><span class="params">(AbsPhone phone)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.phone = phone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">communicate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(name + <span class="string">"掏出手机了..."</span>);</span><br><span class="line">        phone.use();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>然后我们来用这些兄dei跑一把<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Person coke = <span class="keyword">new</span> Person(<span class="string">"库克"</span>);</span><br><span class="line">    coke.setPhone(<span class="keyword">new</span> ApplePhone());</span><br><span class="line"></span><br><span class="line">    Person laoluo = <span class="keyword">new</span> Person(<span class="string">"老罗"</span>);</span><br><span class="line">    laoluo.setPhone(<span class="keyword">new</span> TPhone());</span><br><span class="line"></span><br><span class="line">    Person bill = <span class="keyword">new</span> Person(<span class="string">"比尔盖茨"</span>);</span><br><span class="line">    bill.setPhone(<span class="keyword">new</span> NokiaPhone());</span><br><span class="line"></span><br><span class="line">    coke.communicate();</span><br><span class="line">    laoluo.communicate();</span><br><span class="line">    bill.communicate();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>sout<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">库克掏出手机了...</span><br><span class="line">先让苹果特有铃声响一阵...呜呜呜</span><br><span class="line">苹果 zhuang bi 专业户</span><br><span class="line">老罗掏出手机了...</span><br><span class="line">锤子 情怀户</span><br><span class="line">比尔盖茨掏出手机了...</span><br><span class="line">砸核桃 实用户</span><br></pre></td></tr></table></figure></p>
<p>爽哉，爽在哪里了？咱们的person对象只知道自己有个手机，这个手机能执行communicate操作，什么手机我不管，我只管用它。术语就是，逻辑代码不管实现，只需要持有着抽象类，然后执行抽象类提供的方法即可，就算以后扩展了其他的子类，也不影响我之前的业务逻辑，子类完全继承了父类，同时在不改变方法本身的逻辑下增添了自己的特色，同时也符合父类出现的地方，就可以替换成子类  </p>
<p>请大家仔细咀嚼下面这两段话:  </p>
<font color="#FF0000"><br>采用里氏替换原则的目的就是增强程序的健壮性， 版本升级时也可以保持非常好的兼容性。 即使增加子类， 原有的子类还可以继续运行。 在实际项目中， 每个子类对应不同的业务含义， 使用父类作为参数， 传递不同的子类完成不同的业务逻辑<br><br><br>对于基类中定义的所有子程序，用在它的任何一个派生类中时的含义都应该是相同的。这样继承才不会增加复杂度，基类才能真正被复用，而派生类也能够在基类的基础上增加新的行为。如果我们必须要不断地思考不同派生类的实现在语义上的差异，继承就只会增加复杂度了。<br></font>

<p>本着负责人的态度，老衲还是把树立的这段话copy过来，望大家酌情使用参考:  </p>
<div align="center"><br><img src="https://note.youdao.com/yws/public/resource/c71037a83aa2a16f1752f9f6db8d74aa/xmlnote/336418FEFC104C34BB8DF79BE0BCF918/2903" width="200" height="200" alt="沉迷代码"><br></div>

<p>在项目中，采用里氏替换原则时，尽量避免子类的“个性”，一旦子类有“个性”，这个子类和父类之间的关系就很难调和了，把子类当做父类使用，子类的“个性”被抹杀——委屈了点；把子类单独作为一个业务来使用，则会让代码间的耦合关系变得扑朔迷离——缺乏类替换的标准</p>
<h3 id="依赖倒置原则（Dependence-Inversion-Principle-DIP）"><a href="#依赖倒置原则（Dependence-Inversion-Principle-DIP）" class="headerlink" title="依赖倒置原则（Dependence Inversion Principle,DIP）"></a>依赖倒置原则（Dependence Inversion Principle,DIP）</h3><p>依赖倒置是什么鬼？纯说感觉也说不明白，白话点来说就是各种注入，依赖的接口注入，就是咱们的接口不依赖实现，而具体的实现类去组装这些接口，简单粗暴的解释就是，</p>
<font color="#FF0000"><br>面向接口编程（OOD）<br></font><br>祭出官方释义就是:<br>High level modules should not depend upon low level modules.Both should depend upon<br>abstractions.Abstractions should not depend upon details.Details should depend upon abstractions<br><em> 高层模块不应该依赖低层模块， 两者都应该依赖其抽象
</em> 抽象不应该依赖细节<br><em> 细节应该依赖抽象<br><br><br>#### 定义<br>你好，我是勤劳的搬运工<br><br><div align="center"><br><img src="https://note.youdao.com/yws/public/resource/c71037a83aa2a16f1752f9f6db8d74aa/xmlnote/DDBEDDC6C228411C9D13900B7878C9B0/2910" width="300" height="200" alt="沉迷代码"><br></div><br><br>抽象就是指接口或抽象类，两者都是不能直接被实例化的；细节就是实现类，实现接口或继承抽象类而产生的类就是细节，其特点就是可以直接被实例化，也就是可以加上一个关键字new产生一个对象

</em> 模块间的依赖通过抽象发生， 实现类之间不发生直接的依赖关系， 其依赖关系是通过接口或抽象类产生的<br><em> 接口或抽象类不依赖于实现类
</em> 实现类依赖接口或抽象类<br><br><br><br>那么采用依赖倒置的优势在哪里？就是<br><font color="#FF0000"><br>减少类间的耦合性， 提高系统的稳定性，降低并行开发引起的风险，提高代码的可读性和可维护性，稳定性较高的设计，在周围环境频繁变化的时候，依然可以做到“我自岿然不动”<br></font>  

<p>那么要如何遵循依赖倒置原则去设计代码呢？首先，我们的始终遵循</p>
<font color="#FF0000"><br><br>抽象不依赖细节<br><br><br>在新增加低层模块时，只修改了业务场景类，也就是高层模块，对其他低层模块如Driver类不需要做任何修改，业务就可以运行，把“变更”引起的风险扩散降到最低<br><br><br>如果两个类直接存在依赖关系，那么连接他们之间的桥梁就是接口，不依赖具体的低层模块<br><br><br>抽象是对实现的约束，对依赖者而言，也是一种契约，不仅仅约束自己，还同时约束自己与外部的关系，其目的是保证所有的细节不脱离契约的范畴，确保约束双方按照既定的契约（抽象）共同发展，只要抽象这根基线在，细节就脱离不了这个圈圈，始终让你的对象做到“言必信， 行必果”<br><br><br>常用依赖传递，只要做到抽象依赖，即使是多层的依赖传递也无所畏惧<br><br></font>

<h4 id="code-2"><a href="#code-2" class="headerlink" title="code"></a>code</h4><p>依赖倒置原则的本质就是通过抽象（接口或抽象类） 使各个类或模块的实现彼此独立，<br>不互相影响， 实现模块间的松耦合</p>
<ul>
<li>每个类尽量都有接口或抽象类， 或者抽象类和接口两者都具备<br>这是依赖倒置的基本要求， 接口和抽象类都是属于抽象的， 有了抽象才可能依赖倒置。</li>
<li>变量的表面类型尽量是接口或者是抽象类</li>
<li>任何类都不应该从具体类派生</li>
<li>尽量不要覆写基类的方法(类间依赖的是抽象， 覆写了抽象方法， 对依赖的稳定性会产生一定的影响)</li>
<li>结合里氏替换原则使用(接口负责定义public属性和方法， 并且声明与其他对象的依赖关系，抽象类负责公共构造部分的实现，实现类准确的实现业务逻辑， 同时在适当的时候对父类进行细化)<br>说了那么多，还是需要深刻的在代码中多多运用“面向接口编程”</li>
</ul>
<p>OK，接下来是我们的代码背景，还是不要上面的手机例子了， 老衲也是写吐了哈哈- -，这次是英雄联盟，恭喜RNG！<br>主角是咱们的Uzi和香锅打野<br>首先声明英雄和召唤师的接口<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">IHero</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">attack</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">IPlay</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">play</span><span class="params">()</span></span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>紧接着是咱们的两个英雄低层接口<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Xiazi</span> <span class="keyword">implements</span> <span class="title">IHero</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">attack</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"瞎子，我用双手，成就你的梦想"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">VN</span> <span class="keyword">implements</span> <span class="title">IHero</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">attack</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"VN，黑夜也会怕我"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>然后是咱们的上层player接口<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">ADPlayer</span> <span class="keyword">implements</span> <span class="title">IPlay</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    IHero hero;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ADPlayer</span><span class="params">(IHero hero)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.hero = hero;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">play</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        hero.attack();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">AssistPlayer</span> <span class="keyword">implements</span> <span class="title">IPlay</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    IHero hero;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setHero</span><span class="params">(IHero hero)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.hero = hero;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">play</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        hero.attack();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>ok,接下来爽一把<br>这里注意，咱们的uzi使用构造依赖注入方式，天生的AD，世界第一ADC<br>咱们的RNG围绕下路战术，所以香锅就一个使命，保护下路，使用setter依赖注入<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    ADPlayer uzi = <span class="keyword">new</span> ADPlayer(<span class="keyword">new</span> VN());</span><br><span class="line">    AssistPlayer mlxg = <span class="keyword">new</span> AssistPlayer();</span><br><span class="line">    mlxg.setHero(<span class="keyword">new</span> Xiazi());</span><br><span class="line">    uzi.play();</span><br><span class="line">    mlxg.play();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">输出</span><br><span class="line">VN，黑夜也会怕我</span><br><span class="line">瞎子，我用双手，成就你的梦想</span><br></pre></td></tr></table></figure></p>
<p>再次恭喜RNG集中赛冠军，不知为何，老衲看小花生就是一脸不爽</p>
<h3 id="接口隔离原则-Interface-Splite-Principle"><a href="#接口隔离原则-Interface-Splite-Principle" class="headerlink" title="接口隔离原则(Interface Splite Principle)"></a>接口隔离原则(Interface Splite Principle)</h3><font color="#FF0000"><br>接口 隔离<br></font><br>其实从字面上就能很好的理解，先不看书，简单从字面上理解一下这个原则<br><br>接口：interface(Java 中interface关键字修饰，只能在其中声明方法/接口和静态变量)<br>类：class,对外提供的public方法，从外向内看，这其实也是一种接口<br><br>隔离：隔离结合单一职责来看，隔离的基础首先尽可能保证接口的定义符合单一职责原则，依据业务划分出来的接口功能进行进一步进行拆分细分，类不要去依赖那些他用不到的接口，不然没有意义啊，依赖那么多搞什么，说白了就是对接口根据依赖关系进行一波“抽取”的骚操作<br><br><div align="center"><br><img src="https://note.youdao.com/yws/public/resource/c71037a83aa2a16f1752f9f6db8d74aa/xmlnote/D010D0C832E14373A0CFF7C2110E9C59/3105" width="200" height="200" alt="沉迷代码"><br></div><br><br>#### 定义<br>ok，山寨白话解释完毕，下面来对下文档，接口描述正确，我们就看一下隔离的解释<br><em> Clients should not be forced to depend upon interfaces that they don’t use.（客户端不应该依赖它不需要的接口。）
</em> The dependency of one class to another one should depend on the smallest possible interface.（类间的依赖关系应该建立在最小的接口上。）<br><br>好吧，在下认为这个解释还不如白话来的直接明了，类间的依赖关系是什么？其实对于接口最直接的定义便是类之间进行通信使用的，那么既然他们之间进行通信，那么两个类之间就存在了耦合关系，耦合达到最低要怎么做？就是尽量使这个耦合接口简单明了，那么搬出书上的解释：<br><font color="#FF0000"><br>建立单一接口，不要建立臃肿庞大的接口。再通俗一点讲：接口尽量细化，同时接口中的方法尽量少<br></font>

<h4 id="code-3"><a href="#code-3" class="headerlink" title="code"></a>code</h4><p>代码背景还是咱们LOL，之前是hero，那今天就换成NPC吧<br>首先来两个接口，分别是魔法攻击和物理攻击，也就是咱们的接口隔离<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IMagicAttack</span> </span>&#123;</span><br><span class="line">        <span class="function"><span class="keyword">void</span> <span class="title">magicAttack</span><span class="params">()</span></span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IPhysicalAttack</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">physicalAttack</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>接下来是两个咱们的法拉利和远程兵，分别实现魔法和物理攻击接口<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">YuanChenBing</span> <span class="keyword">implements</span> <span class="title">IMagicAttack</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">magicAttack</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            System.out.println(<span class="string">"远程兵，用魔法攻击轰你家大灯"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">FaLaLi</span> <span class="keyword">implements</span> <span class="title">IPhysicalAttack</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">physicalAttack</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"法拉利炮车，用大炮物理攻击轰你家大灯"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>最后登场的是大龙，大龙的话就比较嚣张了，必须两个攻击的接口都实现<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">DaLong</span> <span class="keyword">implements</span> <span class="title">IMagicAttack</span>, <span class="title">IPhysicalAttack</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">magicAttack</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"大龙向你吐了一口魔法浓痰"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">physicalAttack</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"大龙用尾巴怼你"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>接下来run一把瞅瞅<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    DaLong daLong = <span class="keyword">new</span> DaLong();</span><br><span class="line">    daLong.magicAttack();</span><br><span class="line">    daLong.physicalAttack();</span><br><span class="line"></span><br><span class="line">    YuanChenBing yuanChenBing = <span class="keyword">new</span> YuanChenBing();</span><br><span class="line">    yuanChenBing.magicAttack();</span><br><span class="line"></span><br><span class="line">    FaLaLi faLaLi = <span class="keyword">new</span> FaLaLi();</span><br><span class="line">    faLaLi.physicalAttack();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">大龙向你吐了一口魔法浓痰</span><br><span class="line">大龙用尾巴怼你</span><br><span class="line">远程兵，用魔法攻击轰你家大灯</span><br><span class="line">法拉利炮车，用大炮物理攻击轰你家大灯</span><br></pre></td></tr></table></figure></p>
<p>代码撸完了，接下来搬出书上的总结，说的灰常准确，请大家注意  </p>
<div align="center"><br><img src="https://note.youdao.com/yws/public/resource/c71037a83aa2a16f1752f9f6db8d74aa/xmlnote/452900A0801442F18E05E2A410696BA7/3128" width="400" height="250" alt="装13到天亮"><br></div>

<ul>
<li>接口要尽量小，根据接口隔离原则拆分接口时，首先必须满足单一职责原则</li>
</ul>
<ul>
<li>接口要高内聚，什么是高内聚？高内聚就是提高接口、类、模块的处理能力，减少对外的交互</li>
</ul>
<ul>
<li>定制服务，一个系统或系统内的模块之间必然会有耦合，有耦合就要有相互访问的接口（并不一定就是Java中定义的Interface，也可能是一个类或单纯的数据交换），我们设计时就需要为各个访问者（即客户端）定制服务，什么是定制服务？定制服务就是单独为一个个体提供优良的服务</li>
</ul>
<ul>
<li>接口设计是有限度的，接口的设计粒度越小，系统越灵活，这是不争的事实。但是，灵活的同时也带来了结构的复杂化，开发难度增加，可维护性降低，这不是一个项目或产品所期望看到的，所以接口设计一定要注意适度</li>
</ul>
<ul>
<li>一个接口只服务于一个子模块或业务逻辑</li>
</ul>
<ul>
<li>通过业务逻辑压缩接口中的public方法，接口时常去回顾，尽量让接口达到“满身筋骨肉”，而不是“肥嘟嘟”的一大堆方法</li>
</ul>
<ul>
<li>已经被污染了的接口，尽量去修改，若变更的风险较大，则采用适配器模式进行转化处理</li>
</ul>
<ul>
<li>了解环境，拒绝盲从。每个项目或产品都有特定的环境因素，别看到大师是这样做的你就照抄。千万别，环境不同，接口拆分的标准就不同。深入了解业务逻辑</li>
</ul>
<h3 id="迪米特法则（Law-of-Demeter，-LoD）"><a href="#迪米特法则（Law-of-Demeter，-LoD）" class="headerlink" title="迪米特法则（Law of Demeter， LoD）"></a>迪米特法则（Law of Demeter， LoD）</h3><p>迪米特法则主要表达的是当类与类之间产生耦合的情况下，类对外公布的方法将遵循怎样的规则，其实说白了就是当前类持有的耦合类，那么当前类只关心自己要调用的方法，具体内部有怎样的实现则不关心，这些不关心的方法或者变量都与我无关，这样写有什么好处呢？相当于以后当实现逻辑发生了变化，但是结果不变，我们只需要更改耦合类的内部实现即可，外部无需改动，就是private,protect等修饰符的使用~  </p>
<h4 id="定义-2"><a href="#定义-2" class="headerlink" title="定义"></a>定义</h4><p>一个对象应该对其他对象有最少的了解。通俗地讲，</p>
<font color="#FF0000"><br>一个类应该对自己需要耦合或调用的类知道得最少，你（被耦合或调用的类）的内部是如何复杂都和我没关系，那是你的事情，我就知道你提供的这么多public方法，我就调用这么多，其他的我一概不关心。<br></font>  

<p>类之间的低耦合要求：</p>
<ul>
<li>类与类之间的关系是建立在类间的，而不是方法间，因此一个方法尽量不引入一个类中不存在的对象</li>
<li>迪米特法则要求类“羞涩”一点，尽量不要对外公布太多的public方法和非静态的public变量，尽量内敛，多使用private、package-private、protected等访问权限</li>
<li>如果一个方法放在本类中，既不增加类间关系，也对本类不产生负面影响，那就放置在本类中</li>
<li>迪米特法则的核心观念就是类间解耦，弱耦合，只有弱耦合了以后，类的复用率才可以提高。其要求的结果就是产生了大量的中转或跳转类，导致系统的复杂性提高，同时也为维护带来了难度。读者在采用迪米特法则时需要反复权衡，既做到让结构清晰，又做到高内聚低耦合</li>
</ul>
<h4 id="code-4"><a href="#code-4" class="headerlink" title="code"></a>code</h4><p>惯例做一个代码背景介绍<br>相信大家都听说过five five open这位兄台，那么咱们就以这位玩家作为咱们此次Demo的主角来编写代码</p>
<font color="#FF0000"><br>注意，不对此人自任何评判，纯粹是讲解需要，谢谢<br></font><br>首先咱们来一波接口，声明GB该实现的方法，包括什么自动攻击啊，自动躲避技能啊什么的<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IShellMethod</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">autoAttack</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">stopAutoAttack</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">autoDucking</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">stopAutoDucking</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">autoUseSkill</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">stopAutoUseSkill</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">autoChangeChangeEquipage</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">stopAutoChangeChangeEquipage</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><br>接下来就是咱们的RMB玩家需要持有的接口就比较简单，遵循迪特米法则，就一个启动和停止<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IUseShell</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">enableShell</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">disableShell</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><br>然后是咱们的脚本实现类，此处同时实现RMB玩家的接口，简单包装一下，注意这里增加了一个内部方法为计算躲避最佳路线，符合咱们迪特米法则，外部不关心内部的实现逻辑<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">ShellImpl</span> <span class="keyword">implements</span> <span class="title">IShellMethod</span>, <span class="title">IUseShell</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">autoAttack</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"auto attack hero or NPC"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">stopAutoAttack</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"stop auto attack"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">autoDucking</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        calculateDuckingPath();</span><br><span class="line">        System.out.println(<span class="string">"auto dodge attacks"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">calculateDuckingPath</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"calculate best ducking path!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">stopAutoDucking</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"stop auto dodge attacks"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">autoUseSkill</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"auto use hero's skill"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">stopAutoUseSkill</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"stop auto use hero's skill"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">autoChangeChangeEquipage</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"auto buy best equipage"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">stopAutoChangeChangeEquipage</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"stop auto buy best equipage"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">enableShell</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.autoAttack();</span><br><span class="line">        <span class="keyword">this</span>.autoDucking();</span><br><span class="line">        <span class="keyword">this</span>.autoUseSkill();</span><br><span class="line">        <span class="keyword">this</span>.autoChangeChangeEquipage();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">disableShell</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.stopAutoAttack();</span><br><span class="line">        <span class="keyword">this</span>.stopAutoDucking();</span><br><span class="line">        <span class="keyword">this</span>.stopAutoUseSkill();</span><br><span class="line">        <span class="keyword">this</span>.stopAutoChangeChangeEquipage();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><br>最后则是我们用户的包装类，持有RMB接口对象即可<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">ShellUser</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> IUseShell useShell;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ShellUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        useShell = <span class="keyword">new</span> ShellImpl();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">startGB</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"开始上分"</span>);</span><br><span class="line">        useShell.enableShell();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">stopGB</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"卧槽，对面要举报我"</span>);</span><br><span class="line">        useShell.disableShell();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br><br>run一把爽一下<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">ShellUser lubenwei = <span class="keyword">new</span> ShellUser();</span><br><span class="line">lubenwei.startGB();</span><br><span class="line">lubenwei.stopGB();</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">开始上分</span><br><span class="line">auto attack hero or NPC</span><br><span class="line">calculate best ducking path!</span><br><span class="line">auto dodge attacks</span><br><span class="line">auto use hero<span class="string">'s skill</span></span><br><span class="line"><span class="string">auto buy best equipage</span></span><br><span class="line"><span class="string">卧槽，对面要举报我</span></span><br><span class="line"><span class="string">stop auto attack</span></span><br><span class="line"><span class="string">stop auto dodge attacks</span></span><br><span class="line"><span class="string">stop auto use hero'</span>s skill</span><br><span class="line">stop auto buy best equipage</span><br></pre></td></tr></table></figure><br><br>好了，通过这个小Demo大家也可以大致轻松愉快的了解到迪特米法则，迪特米法则不同于上面说的几个法则，更注重类间规范，是以后耦合类间的书写规范，很多设计模式也是遵循的这些法则组合完成的设计。<br><br>### 开闭原则（Open-Closed Principle, OCP）<br>不管你是Java开发还是Android开发，只要你曾经或者正在学习的路上，那么或多或少会在网上看到这样的一句话:”对修改关闭，对扩展开放”，OK， what is mean ?<br><br>## 定义<br>一个软件实体应该通过扩展来实现变化，而不是通过修改已有的代码来实现变化。软件实体包括以下几个部分：<br><em> 项目或软件产品中按照一定的逻辑规则划分的模块
</em> 抽象和类<br><em> 方法<br><br>一个软件产品只要在生命期内，都会发生变化，既然变化是一个既定的事实，我们就应该在设计时尽量适应这些变化，以提高项目的稳定性和灵活性，真正实现“拥抱变化”。<br><br>对于突如其来的变化，我们不是以修改原有代码来适配新的变化，而是通过增写扩展的方式来应对这个新变化。<br><br>书上为这些变化做了一个归类，如下：  
</em> 逻辑变化<br>只变化一个逻辑，而不涉及其他模块，比如原有的一个算法是a<em>b+c，现在需要修改为a</em>b<em>c，可以通过修改原有类中的方法的方式来完成，前提条件是所有依赖或关联类都按照相同的逻辑处理

</em> 子模块变化<br>一个模块变化，会对其他的模块产生影响，特别是一个低层次的模块变化必然引起高层模块的变化，因此在通过扩展完成变化时，高层次的模块修改是必然的<br><br>* 可见视图变化<br><br>注意:<br><font color="#FF0000"><br>在业务规则改变的情况下高层模块必须有部分改变以适应新业务，改变要尽量地少，防止变化风险的扩散。开闭原则对扩展开放，对修改关闭，并不意味着不做任何修改，低层模块的变更，必然要有高层模块进行耦合，否则就是一个孤立无意义的代码片段<br></font>

<p>项目开发、重构、测试、投产、运维，其中的重构可以对原有的设计和代码进行修改，运维尽量减少对原有代码的修改，保持历史代码的纯洁性，提高系统的稳定性。</p>
<p>书中对开闭原则做了一个非常好的总结，这里就搬过来了：</p>
<font color="#FF0000"><br>开闭原则是最基础的一个原则，前五章节介绍的原则都是开闭原则的具体形态，也就是说前五个原则就是指导设计的工具和方法，而开闭原则才是其精神领袖。换一个角度来理解，依照Java语言的称谓，开闭原则是抽象类，其他五大原则是具体的实现类<br></font>

<p>那么开闭原则又会带来哪些好处呢？ </p>
<ul>
<li>首先是“测试”，在扩展的基础上，测试只需要测试新增加的接口就可以，无需对之前已经稳定可靠的代码进行重复测试</li>
<li>通过缩小业务逻辑粒度从而达到代码复用的作用，从原子逻辑组合成业务逻辑，那么原子的拼接组合自然而然能够产生新的业务逻辑，复用的是久经测试的稳定代码，效率得到很大提升</li>
<li>软件更多的工作其实是在维护中，我们写代码的目的也是为了今后更好的迭代和维护来对代码进行架构，那么在迭代的过程中，开发人员可以尽可能的少参与之前代码的观看和理解就能在原有的基础上进行功能的扩展，那么这样的代码才是良性的代码，相信同学们对阅读之前的代码也是或多或少的有过经历，能深刻体会其中“奥妙”。</li>
<li>代码的设计并不能仅仅局限于当前的需求，而是要考虑到将来的扩展和可能的变化，预留出扩展的余地</li>
</ul>
<p>OK，说了这么多关于开闭原则的好处，那么接下来应该提到的是开闭原则的使用。</p>
<p>老规矩，这次的code主角是王者荣耀游戏商城<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">IGameHero</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getHeroPrice</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getDressUpPrice</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">String <span class="title">getName</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>怒上3个接口规定商城售卖英雄的行为，也是定义实体行为，分别是获取英雄价格，获取英雄皮肤价格，获取英雄名字</p>
<p>然后是英雄接口实现类<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Hero</span> <span class="keyword">implements</span> <span class="title">IGameHero</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> mPrice;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> mDressPrice;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String mName;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Hero</span><span class="params">(<span class="keyword">int</span> mPrice, <span class="keyword">int</span> mDressPrice, String mName)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.mPrice = mPrice;</span><br><span class="line">        <span class="keyword">this</span>.mDressPrice = mDressPrice;</span><br><span class="line">        <span class="keyword">this</span>.mName = mName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getHeroPrice</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mPrice;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getDressUpPrice</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mDressPrice;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"英雄:"</span> + getName() + <span class="string">"\t英雄价格:"</span> + getHeroPrice() + <span class="string">"\t皮肤价格:"</span> + getDressUpPrice();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>接下来上商店逻辑类，这里就简单写下，通俗易懂<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">GameStore</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;IGameHero&gt; heroes;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">GameStore</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.heroes = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        heroes.add(<span class="keyword">new</span> Hero(<span class="number">13888</span>, <span class="number">888</span>, <span class="string">"白起"</span>));</span><br><span class="line">        heroes.add(<span class="keyword">new</span> Hero(<span class="number">10888</span>, <span class="number">388</span>, <span class="string">"庄周"</span>));</span><br><span class="line">        heroes.add(<span class="keyword">new</span> Hero(<span class="number">13888</span>, <span class="number">288</span>, <span class="string">"程咬金"</span>));</span><br><span class="line">        heroes.add(<span class="keyword">new</span> Hero(<span class="number">18888</span>, <span class="number">688</span>, <span class="string">"貂蝉"</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;IGameHero&gt; <span class="title">getHeroes</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> heroes;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>意思通俗易懂，大家自行参阅这些中文式代码哈~<br>然后就是我们的main咯~<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">List&lt;IGameHero&gt; heroes = gameStore.getHeroes();</span><br><span class="line">    System.out.println(<span class="string">"-----------进入商店----------"</span>);</span><br><span class="line">    <span class="keyword">final</span> String storeMessage = <span class="string">"售:"</span>;</span><br><span class="line">    <span class="keyword">for</span> (IGameHero hero : heroes) &#123;</span><br><span class="line">        System.out.println(storeMessage + hero.toString());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//输出</span></span><br><span class="line"><span class="comment">//-----------进入商店----------</span></span><br><span class="line"><span class="comment">//售:英雄:白起	英雄价格:13888	皮肤价格:888</span></span><br><span class="line"><span class="comment">//售:英雄:庄周	英雄价格:10888	皮肤价格:388</span></span><br><span class="line"><span class="comment">//售:英雄:程咬金	英雄价格:13888	皮肤价格:288</span></span><br><span class="line"><span class="comment">//售:英雄:貂蝉	英雄价格:18888	皮肤价格:688</span></span><br></pre></td></tr></table></figure></p>
<p>这就是完美的构建了我们的某荣耀的简单商城了<br>好了，接下来TX要出活动了，刺激消费，挣一波，咋整<br>很简单，针对咱们的扩展开放原则，新建一个英雄实现接口类<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">OffHero</span> <span class="keyword">extends</span> <span class="title">Hero</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">float</span> mDiscount = <span class="number">1.0F</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">OffHero</span><span class="params">(<span class="keyword">float</span> discount, <span class="keyword">int</span> price, <span class="keyword">int</span> dressPrice, String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(price, dressPrice, name);</span><br><span class="line">        mDiscount = discount;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getHeroPrice</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ret = (<span class="keyword">int</span>) (<span class="keyword">super</span>.getHeroPrice() * mDiscount);</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getDressUpPrice</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> ret = (<span class="keyword">int</span>) (<span class="keyword">super</span>.getDressUpPrice() * mDiscount);</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"折扣英雄:"</span> + <span class="keyword">super</span>.getName() +</span><br><span class="line">                <span class="string">"\t英雄价格:"</span> + <span class="keyword">super</span>.getHeroPrice() + <span class="string">",折扣价格:"</span> + (<span class="keyword">int</span>) (<span class="keyword">super</span>.getHeroPrice() * mDiscount)</span><br><span class="line">                + <span class="string">"\t皮肤价格:"</span> + <span class="keyword">super</span>.getDressUpPrice() + <span class="string">",折扣价格:"</span> + (<span class="keyword">int</span>) (<span class="keyword">super</span>.getDressUpPrice() * mDiscount);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>其实也就是集成原有的英雄类，增加一个折扣属性，重写获取英雄价格和皮肤价格<br>然后再略微动一下商城类，增加商城类的方法，这一步也是不可避免的，上层增加实体的获取和实现这些代码是必须要写的。<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">startSale</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"商店开始活动，88折"</span>);</span><br><span class="line">    <span class="keyword">this</span>.heroes.clear();</span><br><span class="line">    heroes.add(<span class="keyword">new</span> OffHero(<span class="number">0.88F</span>, <span class="number">13888</span>, <span class="number">888</span>, <span class="string">"白起"</span>));</span><br><span class="line">    heroes.add(<span class="keyword">new</span> OffHero(<span class="number">0.88F</span>, <span class="number">10888</span>, <span class="number">388</span>, <span class="string">"庄周"</span>));</span><br><span class="line">    heroes.add(<span class="keyword">new</span> OffHero(<span class="number">0.88F</span>, <span class="number">13888</span>, <span class="number">288</span>, <span class="string">"程咬金"</span>));</span><br><span class="line">    heroes.add(<span class="keyword">new</span> OffHero(<span class="number">0.88F</span>, <span class="number">18888</span>, <span class="number">688</span>, <span class="string">"貂蝉"</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">resetPrice</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"商店折扣活动截止"</span>);</span><br><span class="line">    <span class="keyword">this</span>.heroes.clear();</span><br><span class="line">    heroes.add(<span class="keyword">new</span> Hero(<span class="number">13888</span>, <span class="number">888</span>, <span class="string">"白起"</span>));</span><br><span class="line">    heroes.add(<span class="keyword">new</span> Hero(<span class="number">10888</span>, <span class="number">388</span>, <span class="string">"庄周"</span>));</span><br><span class="line">    heroes.add(<span class="keyword">new</span> Hero(<span class="number">13888</span>, <span class="number">288</span>, <span class="string">"程咬金"</span>));</span><br><span class="line">    heroes.add(<span class="keyword">new</span> Hero(<span class="number">18888</span>, <span class="number">688</span>, <span class="string">"貂蝉"</span>));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>增加两个方法，折扣为88折，你买不了吃亏，买不了上当~<br>然后在main里面进行调用<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">gameStore.startSale();</span><br><span class="line">heroes = gameStore.getHeroes();</span><br><span class="line"><span class="keyword">for</span> (IGameHero hero : heroes) &#123;</span><br><span class="line">    System.out.println(storeMessage + hero.toString());</span><br><span class="line">&#125;</span><br><span class="line">gameStore.resetPrice();</span><br><span class="line">heroes = gameStore.getHeroes();</span><br><span class="line"><span class="keyword">for</span> (IGameHero hero : heroes) &#123;</span><br><span class="line">    System.out.println(storeMessage + hero.toString());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//log</span></span><br><span class="line"><span class="comment">//商店开始活动，88折</span></span><br><span class="line"><span class="comment">//售:折扣英雄:白起	英雄价格:13888,折扣价格:12221	皮肤价格:888,折扣价格:781</span></span><br><span class="line"><span class="comment">//售:折扣英雄:庄周	英雄价格:10888,折扣价格:9581	皮肤价格:388,折扣价格:341</span></span><br><span class="line"><span class="comment">//售:折扣英雄:程咬金	英雄价格:13888,折扣价格:12221	皮肤价格:288,折扣价格:253</span></span><br><span class="line"><span class="comment">//售:折扣英雄:貂蝉	英雄价格:18888,折扣价格:16621	皮肤价格:688,折扣价格:605</span></span><br><span class="line"><span class="comment">//商店折扣活动截止</span></span><br><span class="line"><span class="comment">//售:英雄:白起	英雄价格:13888	皮肤价格:888</span></span><br><span class="line"><span class="comment">//售:英雄:庄周	英雄价格:10888	皮肤价格:388</span></span><br><span class="line"><span class="comment">//售:英雄:程咬金	英雄价格:13888	皮肤价格:288</span></span><br><span class="line"><span class="comment">//售:英雄:貂蝉	英雄价格:18888	皮肤价格:688</span></span><br></pre></td></tr></table></figure></p>
<p>显而易见，很轻松的就达到了折扣的目的，这就是所谓的抽象原则的拥抱开放，关闭修改</p>

      
    </div>
    
    
    

    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>老衲再次化点缘，谢谢各位看客大佬了</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>打赏</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/uploads/pay_wx.png" alt="Done 微信支付"/>
        <p>微信支付</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/uploads/pay_ali.png" alt="Done 支付宝"/>
        <p>支付宝</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/java/" rel="tag"># java</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/05/05/设计模式——观察者/" rel="next" title="设计模式——观察者">
                <i class="fa fa-chevron-left"></i> 设计模式——观察者
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/uploads/timg_2.gif"
                alt="Done" />
            
              <p class="site-author-name" itemprop="name">Done</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">6</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/DoneMr" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://blog.csdn.net/u012402505" target="_blank" title="CSDN">
                      
                        <i class="fa fa-fw fa-globe"></i>CSDN</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#设计模式基础-关键-重要-备用"><span class="nav-number">1.</span> <span class="nav-text">设计模式基础 关键 重要 备用</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#设计原则"><span class="nav-number">2.</span> <span class="nav-text">设计原则</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#单一职责原则（Single-Responsibility-Principle，-简称是SRP）"><span class="nav-number">2.1.</span> <span class="nav-text">单一职责原则（Single Responsibility Principle， 简称是SRP）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#定义"><span class="nav-number">2.1.1.</span> <span class="nav-text">定义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#code"><span class="nav-number">2.1.2.</span> <span class="nav-text">code</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#里氏替换原则（LiskovSubstitution-Principle，-LSP）"><span class="nav-number">2.2.</span> <span class="nav-text">里氏替换原则（LiskovSubstitution Principle， LSP）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#定义-1"><span class="nav-number">2.2.1.</span> <span class="nav-text">定义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#code-1"><span class="nav-number">2.2.2.</span> <span class="nav-text">code</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#依赖倒置原则（Dependence-Inversion-Principle-DIP）"><span class="nav-number">2.3.</span> <span class="nav-text">依赖倒置原则（Dependence Inversion Principle,DIP）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#code-2"><span class="nav-number">2.3.1.</span> <span class="nav-text">code</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#接口隔离原则-Interface-Splite-Principle"><span class="nav-number">2.4.</span> <span class="nav-text">接口隔离原则(Interface Splite Principle)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#code-3"><span class="nav-number">2.4.1.</span> <span class="nav-text">code</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#迪米特法则（Law-of-Demeter，-LoD）"><span class="nav-number">2.5.</span> <span class="nav-text">迪米特法则（Law of Demeter， LoD）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#定义-2"><span class="nav-number">2.5.1.</span> <span class="nav-text">定义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#code-4"><span class="nav-number">2.5.2.</span> <span class="nav-text">code</span></a></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Done</span>

  
</div>

<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
  本站访客数:<span id="busuanzi_value_site_uv"></span>
</span>
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  





  
  







  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/canvas_lines.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/love.js"></script>

